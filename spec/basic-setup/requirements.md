# 基本セットアップ機能 要件仕様書

**作成日**: 2025-07-23
**最終更新**: 2025-07-23
**ステータス**: Draft

## 機能概要

Mac開発環境の基礎となる必須ツールとシステム設定を自動的にセットアップする。すべての開発者が共通して必要とする最小限のツールセットを提供し、後続の開発ツールインストールの基盤を構築する。

## ユーザーストーリー

### US-BS-001: Xcode Command Line Tools のインストール
**As a** Mac開発者
**I want** Xcode CLTを自動的にインストールする
**So that** コンパイラやGitなどの基本的な開発ツールが使用できる

**受け入れ基準:**
- GIVEN 新しいmacOS環境
- WHEN Xcode CLTがインストールされていない
- THEN 自動的にインストールプロセスが開始される
- AND インストール完了まで適切に待機する

### US-BS-002: Homebrewのセットアップ
**As a** Mac開発者
**I want** Homebrewを自動的にインストールする
**So that** パッケージ管理が簡単にできる

**受け入れ基準:**
- GIVEN Xcode CLTがインストール済み
- WHEN Homebrewがインストールされていない
- THEN 公式インストールスクリプトが実行される
- AND Apple Silicon/Intel両方に対応したPATH設定が行われる

### US-BS-003: 基本開発ツールのインストール
**As a** Mac開発者
**I want** 必須の開発ツールを一括インストールする
**So that** すぐに開発作業を開始できる

**受け入れ基準:**
- GIVEN Homebrewがインストール済み
- WHEN 基本ツールインストールを実行
- THEN Git、curl、wget等の必須ツールがインストールされる
- AND 各ツールの動作が検証される

### US-BS-004: Oh My Zshのセットアップ
**As a** Mac開発者
**I want** モダンなシェル環境を自動設定する
**So that** 生産的なコマンドライン作業ができる

**受け入れ基準:**
- GIVEN zshがデフォルトシェル
- WHEN Oh My Zshインストールを実行
- THEN テーマとプラグインが適切に設定される
- AND 既存の.zshrcがバックアップされる

### US-BS-005: SSH鍵の生成
**As a** Mac開発者
**I want** SSH鍵を安全に生成する
**So that** GitHubなどのサービスで認証できる

**受け入れ基準:**
- GIVEN SSH鍵が存在しない
- WHEN 鍵生成を選択
- THEN Ed25519形式で鍵が生成される
- AND 適切な権限が設定される

## 機能仕様

### 必須インストール項目
1. **システムツール**
   - Xcode Command Line Tools
   - Homebrew パッケージマネージャー

2. **基本CLIツール**
   - git - バージョン管理
   - curl - データ転送ツール
   - wget - ファイルダウンロード
   - tree - ディレクトリ構造表示
   - jq - JSONプロセッサ
   - gh - GitHub CLI

3. **シェル環境**
   - Oh My Zsh
   - Powerlevel10k テーマ
   - 基本プラグインセット

4. **エディタ**
   - nano (更新版)
   - vim (更新版)

### 設定項目
1. **Git設定**
   - ユーザー名とメールアドレス
   - デフォルトブランチ設定
   - 基本エイリアス

2. **シェル設定**
   - PATH環境変数
   - エイリアス定義
   - プロンプトカスタマイズ

3. **SSH設定**
   - Ed25519鍵の生成
   - ssh-agentへの追加
   - 基本的なSSH config

## 非機能要件

### パフォーマンス要件
- 基本セットアップは15分以内に完了
- 各ツールのインストール状態を事前チェック
- 不要な再インストールを回避

### セキュリティ要件
- SSH鍵は600権限で生成
- 既存設定ファイルは必ずバックアップ
- パスワードやトークンは保存しない

### 可用性要件
- インストール失敗時の明確なエラーメッセージ
- 部分的な失敗でも継続可能
- ロールバック機能の提供

### 互換性要件
- macOS Big Sur (11.0)以降
- Apple Silicon (ARM64) 対応
- Intel (x86_64) 対応
- bash 3.2での動作保証

## 依存関係

### 前提条件
- macOSのクリーンインストールまたは既存環境
- インターネット接続（必須）
- 管理者権限（sudo）

### 他機能への影響
- すべての後続インストールはこの基本セットアップに依存
- Homebrewは全パッケージインストールの基盤
- Git設定は後のリポジトリ操作に影響

## 検証基準

### インストール検証
```bash
# Xcode CLT
xcode-select -p

# Homebrew
brew --version

# Git
git --version

# Oh My Zsh
echo $ZSH_VERSION
```

### 設定検証
- Git configの確認
- SSH鍵の存在と権限確認
- シェル設定の動作確認